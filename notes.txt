pip install
- flask
- flask-sqlalchemy
- wtforms
- datetime
- pytz
- requests
- flask-migrate
- email-validator

------

to get secret key:
>>> import secrets
>>> n = secrets.token_hex(16)
>>> print(n) 
aaefde41a18eaf43211ee2c144660fa2

-----

to set up virtual environment:
[deactivate if need to exit prior]
python3 -m venv venv
.\venv\Scripts\activate

-----

example sqlalchemy in python interpreter:
PS C:\Users\mcgra\Documents\coding\coding_practice> python
Python 3.11.3 (tags/v3.11.3:f3909b8, Apr  4 2023, 23:49:59) [MSC v.1934 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> from cs50class1 import db, Ticker                           
>>> from sqlalchemy import text
>>> db.execute(text("SELECT * FROM tickers WHERE MarketCap > 1000")).fetchall()
[(1, 'SUMITOMO MITSUI FINL GROUP I SPONSORED ADR', 'SSUMY', 3655.8, 'Diversified Industrial Goods Wholesale'), (2, 'Apple', 'AAPL', 3041.3, 'Computers, Phones & Household Electronics'), (3, 'MICROSOFT CORP', 'MSFT', 2585.1, 'Software & IT Services'), (4, 'ALPHABET INC', 'GOOGL', 1515.4, 'Software & IT Services'), (5, 'AMAZON COM INC', 'AMZN', 1333.4, 'Diversified Retail'), (6, 'NVIDIA CORPORATION', 'NVDA', 1105.8, 'Semiconductors & Semiconductor Equipment')]

>>> db.execute(text("DROP TABLE tickers"))

-----

code for companies/sqlalchemy
from sqlalchemy and plugging companies into website page
from flask import Flask, render_template
from cs50class1 import db, Ticker
import os
from sqlalchemy import create_engine, text, Column, String, Integer
from sqlalchemy.orm import scoped_session, sessionmaker
from sqlalchemy.ext.declarative import declarative_base
import random
import math

app = Flask(__name__)

engine = create_engine(os.getenv("DATABASE_URL"))
db = scoped_session(sessionmaker(bind=engine))

@app.route("/")
def home():
    limit = 10
    companies = db.execute(text("SELECT * FROM tickers LIMIT :n"), {"n": limit}).fetchall()
    number = db.execute(text("SELECT COUNT(*) from tickers")).fetchone()
    return render_template("home.html", companies=companies, number=number[0])

@app.route("/randomCo")
def randomCo():
    rn = random.random()
    number = db.execute(text("SELECT COUNT(*) from tickers")).fetchone()[0]
    company_id = math.floor((rn * number))
    company = db.execute(text("SELECT * FROM tickers WHERE id = :company_id"), {"company_id": company_id}).fetchone()
    return render_template("randomCo.html", company=company, number=number, company_id=company_id)

@app.route("/about")
def about():
    return render_template("about.html")

-----

linking to github:
git init
git add [files to add]
git commit -m "[text note about commit]"
git remote add origin https://github.com/FleetCentere/SomeAntics
git push -u origin master

-----

create form:
@app.route("/create", methods=["GET", "POST"])
def create():
    if request.method == "POST":
        title = request.form["title"]
        content = request.form["content"]

        if not title:
            flash("Title is required")
        elif not content:
            flash("Content is required")
        else:
            messages.append({"title": title, "content": content})
            return redirect(url_for("home"))
    return render_template("create.html")

    <label for="content">Message Content</label>
    <br>
    <textarea name="content" placeholder="Message content" rows="15" cols="60">{{ request.form["content"] }}</textarea>
    <br>
    <button type="submit">Submit</button>

    ----

    old company table:
    <tr>
            <td>{{ year }}</td>
            <td>${{ financials[list(financials.keys())[0]][year] }}</td>
            <td>${{ financials["CashCashEquivalentsRestrictedCashAndRestrictedCashEquivalents"][year] }}</td>
            <td>${{ financials["Assets"][year] }}</td>
            <td>${{ financials["Liabilities"][year] }}</td>
            <td>${{ financials["LongTermDebt"][year] }}</td>
            <td class="columnBreak"></td>
            <td>${{ financials["RevenueFromContractWithCustomerExcludingAssessedTax"][year] }}</td>
            <td>${{ financials["CostOfGoodsAndServicesSold"][year] }}</td>
            <td>${{ financials["GrossProfit"][year] }}</td>
            <td>${{ financials["NetCashProvidedByUsedInOperatingActivities"][year] }}</td>
            <td>${{ financials["NetCashProvidedByUsedInInvestingActivities"][year] }}</td>
            <td>${{ financials["NetCashProvidedByUsedInFinancingActivities"][year] }}</td>
        </tr>

-----

(venv) PS C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project> flask --app ProjectFiles shell
Python 3.11.3 (tags/v3.11.3:f3909b8, Apr  4 2023, 23:49:59) [MSC v.1934 64 bit (AMD64)] on win32
App: ProjectFiles
Instance: C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project\instance
>>> from ProjectFiles.models import pressReleases
>>> test = pressReleases(company="testCo", ticker="tsco", link="wwww.google.com", datePosted="2020-01-09")
>>> test
<CompanyPost testCo>

-----

(venv) PS C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project> $env:FLASK_APP = "ProjectFiles"
(venv) PS C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project> flask db init
Creating directory 'C:\\Users\\mcgra\\OneDrive\\Desktop\\AHM Docs\\Coding\\Project\\migrations' ...  done
Creating directory 'C:\\Users\\mcgra\\OneDrive\\Desktop\\AHM Docs\\Coding\\Project\\migrations\\versions' ...  done
Generating C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project\migrations\alembic.ini ...  done
Generating C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project\migrations\env.py ...  done
Generating C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project\migrations\README ...  done
Generating C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project\migrations\script.py.mako ...  done
Please edit configuration/connection/logging settings in 'C:\\Users\\mcgra\\OneDrive\\Desktop\\AHM Docs\\Coding\\Project\\migrations\\alembic.ini' before proceeding.        
(venv) PS C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project> 

-----
password hashing:
(venv) PS C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project> flask shell
Python 3.11.3 (tags/v3.11.3:f3909b8, Apr  4 2023, 23:49:59) [MSC v.1934 64 bit (AMD64)] on win32
App: ProjectFiles
Instance: C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project\instance
>>> u = Users(username="Andrew", email="test@gmail.com")
>>> u.set_password("test_password")
>>> u.password_hash
'pbkdf2:sha256:600000$vz7QmcnnPvdCZrsd$af5cf47c6fa755d7b5c137ce14755456e6c710adc630d206ed3b4ca4ffd5545b'
>>> u.check_password("test_password")
True
>>> u.check_password("test_passworda") 
False

-----

users:
- Andrew, test
- Ben, test2
- zkxq4jw, ProjectFiles

-----

(venv) PS C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project> flask shell
Python 3.11.3 (tags/v3.11.3:f3909b8, Apr  4 2023, 23:49:59) [MSC v.1934 64 bit (AMD64)] on win32
App: ProjectFiles
Instance: C:\Users\mcgra\OneDrive\Desktop\AHM Docs\Coding\Project\instance
>>> Users.query.all()
[<User Andrew>, <User Ben>, <User zkxq4jw>]
>>> Users.query.filter_by(username="zkxq4jw")
<flask_sqlalchemy.query.Query object at 0x0000023823CC1D10>
>>> u = Users.query.filter_by(username="zkxq4jw") 
>>> u.email
Traceback (most recent call last):
  File "<console>", line 1, in <module>
AttributeError: 'Query' object has no attribute 'email'
>>> u
<flask_sqlalchemy.query.Query object at 0x0000023823CC2090>
>>> u = Users.query.filter_by(username="zkxq4jw").first()
>>> u.email
'mcgrathan@gmail.com'
>>> u.password
Traceback (most recent call last):
  File "<console>", line 1, in <module>
AttributeError: 'Users' object has no attribute 'password'
>>> u.password_hash
'pbkdf2:sha256:600000$x7CwbqNyQ9izgMdA$0aad1e4d3fdf7e0bae752e0db9b2b3f1b41ffe984717c225e74629e450de4c4c'
>>> u.check_password("ProjectFiles")
True